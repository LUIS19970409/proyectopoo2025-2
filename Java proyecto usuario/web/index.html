<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Gestión de Usuarios </title>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="style.css">
  <style>
    /* Page-specific override: keep cards dark/transparent on the login page
       so no large white background appears behind the login box. */
    .card{ background: transparent !important; box-shadow: none !important; }
  </style>
</head>
<body style="background:#121212">
  <div class="container">
    <!-- Styled login/register box with animated spans -->
    <div class="login-box" id="loginView">
      <h2>Iniciar sesión</h2>
      <form id="loginForm">
        <div class="input-box">
          <input id="loginUser" required type="text" placeholder=" " />
          <label>Usuario</label>
        </div>
        <div class="input-box">
          <input id="loginPass" required type="password" placeholder=" " />
          <label>Clave</label>
        </div>
        <button class="btn" type="submit">Iniciar sesión</button>
        <div class="signup-link">
          <button type="button" id="goRegister" class="small-btn">Crear cuenta</button>
        </div>
      </form>
      <div id="loginResult"></div>
    </div>

    <!-- Register box (hidden) -->
    <div class="login-box hidden" id="registerView">
      <h2>Crear cuenta</h2>
      <form id="registerForm">
        <div class="input-box">
          <input id="username" required type="text" placeholder=" " />
          <label>Usuario</label>
        </div>
        <div class="input-box">
          <input id="password" required type="password" placeholder=" " />
          <label>Clave</label>
        </div>
        <div class="input-box">
          <input id="nombre" type="text" placeholder=" " />
          <label>Nombre</label>
        </div>
        <div class="input-box">
          <input id="email" type="email" placeholder=" " />
          <label>Email</label>
        </div>
        <div style="margin:8px 10px">
          <label style="color:#fff">Rol</label>
          <select id="role">
            <option value="ABOGADO">Abogado</option>
            <option value="RECTOR">Rector</option>
            <option value="ADMIN">Administrador</option>
          </select>
        </div>
        <div id="extra" style="padding:0 10px"></div>
        <div id="registerError" class="muted" style="padding:0 10px"></div>
        <div class="actions" style="padding:0 10px">
          <button type="submit" class="btn btn--block">Registrar</button>
          <button type="button" id="backToLogin" class="small-btn">Volver a iniciar sesión</button>
        </div>
      </form>

      <div id="registerSuccess" class="card hidden" style="margin-top:12px">
          <strong>Registro exitoso</strong>
          <p class="muted">Tu cuenta se creó correctamente.</p>
        </div>
    </div>

    <!-- users list -->
    <div class="card users-card" style="margin-top:18px">
      <h2>Usuarios registrados</h2>
      <pre id="userList"></pre>
      <button id="clearStorage">Limpiar localStorage</button>
    </div>

    <!-- decorative ring (spinning segments) restored; loader blob omitted to avoid startup artifact -->
    <div class="ring" aria-hidden="true">
      <span style="--i:0;"></span>
      <span style="--i:1;"></span>
      <span style="--i:2;"></span>
      <span style="--i:3;"></span>
      <span style="--i:4;"></span>
      <span style="--i:5;"></span>
      <span style="--i:6;"></span>
      <span style="--i:7;"></span>
      <span style="--i:8;"></span>
      <span style="--i:9;"></span>
      <span style="--i:10;"></span>
      <span style="--i:11;"></span>
      <span style="--i:12;"></span>
      <span style="--i:13;"></span>
      <span style="--i:14;"></span>
      <span style="--i:15;"></span>
      <span style="--i:16;"></span>
      <span style="--i:17;"></span>
      <span style="--i:18;"></span>
      <span style="--i:19;"></span>
      <span style="--i:20;"></span>
      <span style="--i:21;"></span>
      <span style="--i:22;"></span>
      <span style="--i:23;"></span>
      <span style="--i:24;"></span>
      <span style="--i:25;"></span>
      <span style="--i:26;"></span>
      <span style="--i:27;"></span>
      <span style="--i:28;"></span>
      <span style="--i:29;"></span>
      <span style="--i:30;"></span>
      <span style="--i:31;"></span>
      <span style="--i:32;"></span>
      <span style="--i:33;"></span>
      <span style="--i:34;"></span>
      <span style="--i:35;"></span>
      <span style="--i:36;"></span>
      <span style="--i:37;"></span>
      <span style="--i:38;"></span>
      <span style="--i:39;"></span>
      <span style="--i:40;"></span>
      <span style="--i:41;"></span>
      <span style="--i:42;"></span>
      <span style="--i:43;"></span>
      <span style="--i:44;"></span>
      <span style="--i:45;"></span>
      <span style="--i:46;"></span>
      <span style="--i:47;"></span>
      <span style="--i:48;"></span>
      <span style="--i:49;"></span>
    </div>
  </div>
  
  <script src="app.js"></script>
</body>
</html>
